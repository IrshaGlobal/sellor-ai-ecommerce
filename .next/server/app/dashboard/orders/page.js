(()=>{var e={};e.id=611,e.ids=[611],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5336:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(62688).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13861:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(62688).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},16189:(e,s,r)=>{"use strict";var t=r(65773);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}})},18414:(e,s,r)=>{Promise.resolve().then(r.bind(r,71731))},19080:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(62688).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},28559:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(62688).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33388:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>n});var t=r(65239),a=r(48088),i=r(88170),l=r.n(i),c=r(30893),d={};for(let e in c)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>c[e]);r.d(s,d);let n={children:["",{children:["dashboard",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,71731)),"/home/runner/work/sellor-ai-ecommerce/sellor-ai-ecommerce/src/app/dashboard/orders/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/home/runner/work/sellor-ai-ecommerce/sellor-ai-ecommerce/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,o=["/home/runner/work/sellor-ai-ecommerce/sellor-ai-ecommerce/src/app/dashboard/orders/page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/orders/page",pathname:"/dashboard/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},33873:e=>{"use strict";e.exports=require("path")},58869:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(62688).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70541:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>k});var t=r(60687),a=r(43210),i=r(16189),l=r(85814),c=r.n(l),d=r(29523),n=r(44493),o=r(96834),m=r(28559),h=r(19080),x=r(62688);let p=(0,x.A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var u=r(58869);let y=(0,x.A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var j=r(13861),f=r(5336),N=r(88059);let v=(0,x.A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),g={PENDING:"yellow",CONFIRMED:"blue",PROCESSING:"purple",SHIPPED:"green",DELIVERED:"green",CANCELLED:"red"},b={PENDING:"yellow",PAID:"green",FAILED:"red",REFUNDED:"gray"};function k(){let[e,s]=(0,a.useState)([]),[r,l]=(0,a.useState)(null),[x,k]=(0,a.useState)(!0);(0,i.useRouter)();let w=async e=>{try{let r=await fetch(`/api/dashboard/orders?storeId=${e}`);if(r.ok){let e=await r.json();s(e)}}catch(e){console.error("Failed to fetch orders:",e)}},A=async(e,s)=>{try{let t=localStorage.getItem("token");(await fetch(`/api/dashboard/orders/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({status:s})})).ok?w(r.id):alert("Failed to update order status")}catch(e){console.error("Failed to update order status:",e),alert("Failed to update order status")}},P=(e,s)=>{let r=("order"===s?g:"payment"===s?b:g)[e]||"gray";return(0,t.jsx)(o.E,{variant:r,children:e.replace("_"," ")})};return x?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsx)("div",{className:"flex items-center justify-between h-16",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(d.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,t.jsxs)(c(),{href:"/dashboard",children:[(0,t.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})}),(0,t.jsx)("h1",{className:"text-xl font-semibold",children:"Orders"})]})})})}),(0,t.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:0===e.length?(0,t.jsx)(n.Zp,{children:(0,t.jsxs)(n.Wu,{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)(h.A,{className:"h-12 w-12 text-gray-400 mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders yet"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"When customers make purchases, orders will appear here"})]})}):(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)("div",{className:"grid grid-cols-1 gap-6",children:e.map(e=>(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(n.ZB,{className:"text-lg",children:e.orderNumber}),(0,t.jsxs)(n.BT,{className:"flex items-center space-x-2 mt-1",children:[(0,t.jsx)(p,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString()})]})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[P(e.status,"order"),P(e.paymentStatus,"payment"),P(e.fulfillmentStatus,"fulfillment")]})]})}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,t.jsx)(u.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:e.customer.firstName&&e.customer.lastName?`${e.customer.firstName} ${e.customer.lastName}`:e.customer.email})]}),(0,t.jsx)("div",{className:"space-y-2",children:e.items.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg",children:[e.image||e.product.images?.[0]?(0,t.jsx)("img",{src:e.image||e.product.images[0],alt:e.name,className:"w-12 h-12 object-cover rounded"}):(0,t.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center",children:(0,t.jsx)(h.A,{className:"h-6 w-6 text-gray-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[e.quantity," \xd7 $",e.price.toFixed(2)]})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsxs)("p",{className:"font-medium",children:["$",e.total.toFixed(2)]})})]},e.id))}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(y,{className:"h-4 w-4"}),(0,t.jsxs)("span",{className:"font-medium",children:["Total: $",e.total.toFixed(2)," ",e.currency]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(d.$,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsxs)(c(),{href:`/dashboard/orders/${e.id}`,children:[(0,t.jsx)(j.A,{className:"h-4 w-4 mr-1"}),"View Details"]})}),"PENDING"===e.status&&(0,t.jsxs)(d.$,{size:"sm",onClick:()=>A(e.id,"CONFIRMED"),children:[(0,t.jsx)(f.A,{className:"h-4 w-4 mr-1"}),"Confirm"]}),"CONFIRMED"===e.status&&(0,t.jsxs)(d.$,{size:"sm",onClick:()=>A(e.id,"PROCESSING"),children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-1"}),"Process"]}),"PROCESSING"===e.status&&(0,t.jsxs)(d.$,{size:"sm",onClick:()=>A(e.id,"SHIPPED"),children:[(0,t.jsx)(N.A,{className:"h-4 w-4 mr-1"}),"Ship"]}),"CANCELLED"!==e.status&&"DELIVERED"!==e.status&&(0,t.jsxs)(d.$,{variant:"destructive",size:"sm",onClick:()=>A(e.id,"CANCELLED"),children:[(0,t.jsx)(v,{className:"h-4 w-4 mr-1"}),"Cancel"]})]})]})]})})]},e.id))})})})]})}},71731:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/sellor-ai-ecommerce/sellor-ai-ecommerce/src/app/dashboard/orders/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/sellor-ai-ecommerce/sellor-ai-ecommerce/src/app/dashboard/orders/page.tsx","default")},79551:e=>{"use strict";e.exports=require("url")},81462:(e,s,r)=>{Promise.resolve().then(r.bind(r,70541))},88059:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(62688).A)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[4447,6704,1658,5814,599],()=>r(33388));module.exports=t})();