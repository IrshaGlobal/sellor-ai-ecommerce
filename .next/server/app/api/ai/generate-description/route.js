(()=>{var e={};e.id=4227,e.ids=[4227],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4936:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var o=r(79748),i=r(33873);let a=require("os"),s=async()=>{let e=a.homedir();for(let t of[i.join(process.cwd(),".z-ai-config"),i.join(e,".z-ai-config"),"/etc/.z-ai-config"])try{let e=await o.readFile(t,"utf-8"),r=JSON.parse(e);if(r.baseUrl&&r.apiKey)return r}catch(e){"ENOENT"!==e.code&&console.error(`Error reading or parsing config file at ${t}:`,e)}throw Error("Configuration file not found or invalid. Please create .z-ai-config in your project, home directory, or /etc.")};class n{constructor(e){this.config=e,this.chat={completions:{create:this.createChatCompletion.bind(this)}},this.images={generations:{create:this.createImageGeneration.bind(this)}},this.functions={invoke:this.invokeFunction.bind(this)}}static async create(){return new n(await s())}async createChatCompletion(e){let{baseUrl:t,chatId:r,userId:o,apiKey:i}=this.config,a=`${t}/chat/completions`,s={"Content-Type":"application/json",Authorization:`Bearer ${i}`,"X-Z-AI-From":"Z"};r&&(s["X-Chat-Id"]=r),o&&(s["X-User-Id"]=o);try{let t=await fetch(a,{method:"POST",headers:s,body:JSON.stringify(e)});if(!t.ok){let e=await t.text();throw Error(`API request failed with status ${t.status}: ${e}`)}return await t.json()}catch(e){throw console.error("Failed to make API request:",e),e}}async createImageGeneration(e){let{baseUrl:t,apiKey:r,chatId:o,userId:i}=this.config,a=`${t}/images/generations`,s={"Content-Type":"application/json",Authorization:`Bearer ${r}`,"X-Z-AI-From":"Z"};o&&(s["X-Chat-Id"]=o),i&&(s["X-User-Id"]=i);let n={...e};try{let e=await fetch(a,{method:"POST",headers:s,body:JSON.stringify(n)});if(!e.ok){let t=await e.text();throw Error(`API request failed with status ${e.status}: ${t}`)}let t=await e.json(),r=await Promise.all(t.data.map(async e=>e.url?{base64:await this.downloadImageAsBase64(e.url),format:"png"}:e));return{...t,data:r}}catch(e){throw console.error("Failed to make image generation request:",e),e}}async downloadImageAsBase64(e){try{let t=await fetch(e);if(!t.ok)throw Error(`Failed to download image: ${t.status}`);let r=await t.arrayBuffer(),o=Buffer.from(r).toString("base64");return`${o}`}catch(e){throw console.error("Failed to download and convert image to base64:",e),e}}async invokeFunction(e,t){let{baseUrl:r,apiKey:o,chatId:i,userId:a}=this.config,s=`${r}/functions/invoke`,n={"Content-Type":"application/json",Authorization:`Bearer ${o}`,"X-Z-AI-From":"Z"};i&&(n["X-Chat-Id"]=i),a&&(n["X-User-Id"]=a);try{let r=await fetch(s,{method:"POST",headers:n,body:JSON.stringify({function_name:e,arguments:t})});if(!r.ok){let e=await r.text();throw Error(`Function invoke failed with status ${r.status}: ${e}`)}return(await r.json()).result}catch(e){throw console.error("Failed to invoke remote function:",e),e}}}let c=n},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25897:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>m,routeModule:()=>l,serverHooks:()=>h,workAsyncStorage:()=>u,workUnitAsyncStorage:()=>p});var o={};r.r(o),r.d(o,{POST:()=>d});var i=r(96559),a=r(48088),s=r(37719),n=r(32190),c=r(4936);async function d(e){try{let t,{productName:r,category:o,features:i,tone:a}=await e.json();if(!r)return n.NextResponse.json({error:"Product name is required"},{status:400});let s=await c.A.create(),d=`Generate a compelling product description for an e-commerce store.

Product Details:
- Name: ${r}
- Category: ${o||"General"}
- Key Features: ${i||"Not specified"}
- Tone: ${a||"Professional and engaging"}

Requirements:
1. Write a catchy, SEO-friendly title (max 60 characters)
2. Create a short description (1-2 sentences, max 160 characters)
3. Write a detailed description (2-3 paragraphs)
4. Include 3-5 bullet points highlighting key benefits
5. Add relevant keywords for SEO
6. Make it persuasive and conversion-focused

Format the response as JSON:
{
  "title": "SEO-optimized title",
  "shortDescription": "Brief description for meta tags",
  "detailedDescription": "Full product description with paragraphs",
  "bulletPoints": ["Benefit 1", "Benefit 2", "Benefit 3"],
  "keywords": ["keyword1", "keyword2", "keyword3"],
  "seoMetaDescription": "Meta description for search engines"
}`,l=await s.chat.completions.create({messages:[{role:"system",content:"You are an expert e-commerce copywriter specializing in creating compelling, SEO-optimized product descriptions that drive conversions."},{role:"user",content:d}],temperature:.7,max_tokens:1e3}),u=l.choices[0]?.message?.content;if(!u)throw Error("No response from AI");try{t=JSON.parse(u)}catch(e){t={title:r,shortDescription:u.slice(0,160),detailedDescription:u,bulletPoints:["High-quality product","Great value for money","Excellent customer reviews"],keywords:[r.toLowerCase(),o?.toLowerCase()||"product"],seoMetaDescription:u.slice(0,160)}}return n.NextResponse.json({success:!0,data:t})}catch(e){return console.error("Error generating product description:",e),n.NextResponse.json({error:"Failed to generate product description",details:e.message},{status:500})}}let l=new i.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/ai/generate-description/route",pathname:"/api/ai/generate-description",filename:"route",bundlePath:"app/api/ai/generate-description/route"},resolvedPagePath:"/home/runner/work/sellor-ai-ecommerce/sellor-ai-ecommerce/src/app/api/ai/generate-description/route.ts",nextConfigOutput:"",userland:o}),{workAsyncStorage:u,workUnitAsyncStorage:p,serverHooks:h}=l;function m(){return(0,s.patchFetch)({workAsyncStorage:u,workUnitAsyncStorage:p})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},79748:e=>{"use strict";e.exports=require("fs/promises")},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[4447,580],()=>r(25897));module.exports=o})();