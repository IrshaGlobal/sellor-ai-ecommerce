(()=>{var e={};e.id=2743,e.ids=[2743],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33090:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var t=r(65239),a=r(48088),i=r(88170),l=r.n(i),n=r(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(s,o);let c={children:["",{children:["store",{children:["[slug]",{children:["auth",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,81785)),"/home/runner/work/sellor-ai-ecommerce/sellor-ai-ecommerce/src/app/store/[slug]/auth/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/home/runner/work/sellor-ai-ecommerce/sellor-ai-ecommerce/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/home/runner/work/sellor-ai-ecommerce/sellor-ai-ecommerce/src/app/store/[slug]/auth/page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/store/[slug]/auth/page",pathname:"/store/[slug]/auth",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},33873:e=>{"use strict";e.exports=require("path")},38160:(e,s,r)=>{Promise.resolve().then(r.bind(r,88418))},58869:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(62688).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79551:e=>{"use strict";e.exports=require("url")},80016:(e,s,r)=>{Promise.resolve().then(r.bind(r,81785))},81785:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/sellor-ai-ecommerce/sellor-ai-ecommerce/src/app/store/[slug]/auth/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/sellor-ai-ecommerce/sellor-ai-ecommerce/src/app/store/[slug]/auth/page.tsx","default")},88418:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>v});var t=r(60687),a=r(43210),i=r(16189),l=r(85814),n=r.n(l),o=r(29523),c=r(89667),d=r(80013),m=r(44493),u=r(85763),p=r(91821),h=r(46001),x=r(62688);let g=(0,x.A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),f=(0,x.A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);var j=r(58869),y=r(70334);function v(){let[e,s]=(0,a.useState)(!1),[r,l]=(0,a.useState)(""),[x,v]=(0,a.useState)(null),N=(0,i.useParams)(),w=(0,i.useRouter)(),b=N.slug,P=async e=>{e.preventDefault(),s(!0),l("");let r=new FormData(e.currentTarget),t=r.get("email"),a=r.get("password");try{let e=await fetch("/api/auth/store-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:a,storeSlug:b})}),s=await e.json();e.ok?(localStorage.setItem(`customer_token_${b}`,s.token),localStorage.setItem(`customer_${b}`,JSON.stringify(s.customer)),l("Login successful! Redirecting..."),setTimeout(()=>w.push(`/store/${b}`),1e3)):l(s.error||"Login failed")}catch(e){l("Network error. Please try again.")}finally{s(!1)}},k=async e=>{e.preventDefault(),s(!0),l("");let r=new FormData(e.currentTarget),t=r.get("firstName"),a=r.get("lastName"),i=r.get("email"),n=r.get("password");if(n!==r.get("confirmPassword")){l("Passwords do not match"),s(!1);return}try{let e=await fetch("/api/auth/store-register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:t,lastName:a,email:i,password:n,storeSlug:b})}),s=await e.json();e.ok?(l("Account created successfully! Redirecting..."),setTimeout(()=>w.push(`/store/${b}`),1500)):l(s.error||"Registration failed")}catch(e){l("Network error. Please try again.")}finally{s(!1)}};return x?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsxs)(n(),{href:`/store/${b}`,className:"inline-flex items-center space-x-2 mb-4",children:[x.logo?(0,t.jsx)("img",{src:x.logo,alt:x.name,className:"w-10 h-10 rounded-lg"}):(0,t.jsx)("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:(0,t.jsx)(h.A,{className:"w-6 h-6 text-primary-foreground"})}),(0,t.jsx)("span",{className:"text-xl font-bold",children:x.name})]}),(0,t.jsxs)("h1",{className:"text-2xl font-bold mb-2",children:["Welcome to ",x.name]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Sign in to your account or create a new one to start shopping"})]}),(0,t.jsxs)(u.tU,{defaultValue:"signin",className:"w-full",children:[(0,t.jsxs)(u.j7,{className:"grid w-full grid-cols-2",children:[(0,t.jsx)(u.Xi,{value:"signin",children:"Sign In"}),(0,t.jsx)(u.Xi,{value:"signup",children:"Create Account"})]}),(0,t.jsx)(u.av,{value:"signin",children:(0,t.jsxs)(m.Zp,{children:[(0,t.jsxs)(m.aR,{children:[(0,t.jsxs)(m.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(g,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"Sign In"})]}),(0,t.jsx)(m.BT,{children:"Enter your credentials to access your account"})]}),(0,t.jsxs)(m.Wu,{children:[(0,t.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"signin-email",children:"Email"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(f,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(c.p,{id:"signin-email",name:"email",type:"email",placeholder:"Enter your email",className:"pl-10",required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"signin-password",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(g,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(c.p,{id:"signin-password",name:"password",type:"password",placeholder:"Enter your password",className:"pl-10",required:!0})]})]}),(0,t.jsx)(o.$,{type:"submit",className:"w-full",disabled:e,children:e?"Signing in...":"Sign In"})]}),(0,t.jsx)("div",{className:"mt-4 text-center",children:(0,t.jsx)(n(),{href:`/store/${b}/auth/forgot-password`,className:"text-sm text-primary hover:underline",children:"Forgot your password?"})})]})]})}),(0,t.jsx)(u.av,{value:"signup",children:(0,t.jsxs)(m.Zp,{children:[(0,t.jsxs)(m.aR,{children:[(0,t.jsxs)(m.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(j.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"Create Account"})]}),(0,t.jsxs)(m.BT,{children:["Join ",x.name," to start shopping"]})]}),(0,t.jsxs)(m.Wu,{children:[(0,t.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"firstName",children:"First Name"}),(0,t.jsx)(c.p,{id:"firstName",name:"firstName",placeholder:"First name",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"lastName",children:"Last Name"}),(0,t.jsx)(c.p,{id:"lastName",name:"lastName",placeholder:"Last name",required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"signup-email",children:"Email Address"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(f,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(c.p,{id:"signup-email",name:"email",type:"email",placeholder:"Enter your email",className:"pl-10",required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"signup-password",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(g,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(c.p,{id:"signup-password",name:"password",type:"password",placeholder:"Create a password",className:"pl-10",required:!0,minLength:6})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(g,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(c.p,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirm your password",className:"pl-10",required:!0,minLength:6})]})]}),(0,t.jsxs)(o.$,{type:"submit",className:"w-full",disabled:e,children:[e?"Creating Account...":"Create Account",(0,t.jsx)(y.A,{className:"ml-2 w-4 h-4"})]})]}),(0,t.jsxs)("div",{className:"mt-4 text-xs text-muted-foreground",children:["By creating an account, you agree to ",x.name,"'s"," ",(0,t.jsx)(n(),{href:`/store/${b}/terms`,className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",(0,t.jsx)(n(),{href:`/store/${b}/privacy`,className:"text-primary hover:underline",children:"Privacy Policy"})]})]})]})})]}),r&&(0,t.jsx)(p.Fc,{className:`mt-4 ${r.includes("successful")?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:(0,t.jsx)(p.TN,{className:r.includes("successful")?"text-green-800":"text-red-800",children:r})}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsxs)(n(),{href:`/store/${b}`,className:"text-sm text-muted-foreground hover:text-foreground",children:["â† Back to ",x.name]})})]})}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})})}}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[4447,6704,1658,5814,4688,2882],()=>r(33090));module.exports=t})();